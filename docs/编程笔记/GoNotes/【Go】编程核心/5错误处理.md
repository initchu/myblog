# 5 错误处理

在很多情况下，代码运行时候出现了错误`panic`，就导致了整个程序的崩溃，所以引出了**错误处理**。

## 错误处理的基本使用
我们希望，当错误发生后，可以捕获到错误，并进行处理，保证程序可以继续执行。

在golang中，不支持传统的 `try...catch...finally`这种处理，引入的处理方式为: `defer, panic, recover`。

```go
func test(){
    //使用defer+recover来捕获和处理异常
    defer func(){
        err := recover()
        if err != recover()
        if err != nil{
            fmt.Println("err = ",err)
        }
    }()
    num1 := 10
    num2 := 0
    res := num1 / num2
    fmt.Println("res =", res)
}
func main(){
    test()
    fmt.Println("继续执行...")
}
```

Go语言的错误设计是通过返回值的方式，来强迫调用者对错误进行处理，要么你忽略，要么你处理（处理也可以是继续返回给调用者）。例如：

```go
func main() {
	conent,err:=ioutil.ReadFile("filepath")
	if err !=nil{
		//错误处理
	}else {
		fmt.Println(string(conent))
	}
}
```



> 更新: 2022-02-24 14:55:58  
> 原文: <https://www.yuque.com/xiaoshan_wgo/codingnotes/pnrpbc>